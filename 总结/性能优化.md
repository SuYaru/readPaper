# 性能优化

如何让页面更快的加载：

首先，一个页面的加载过程：

1. 解析DNS
2. 建立连接
3. 开始发送请求
4. 文档返回
   1. 开始执行文档
   2. 静态资源请求结束
   3. dom+css树构建
   4. render树构建
   5. 开始布局
   6. 开始绘图
   7. 合成
5. 结束

可以优化的点：

1. DNS预解析
2. 如何加速连接的建立？？
3. 静态资源请求优化
   1. 按需加载，首屏只加载需要的资源、资源分包
   2. 合理利用treeShaking，减少代码、压缩减少代码
   3. 合理内联首屏css,减少首屏资源的请求
   4. 静态资源放在CDN
   5. prefetch（提前获取并缓存资源，浏览器空闲时间获取非首页资源）、dns-prefetch（资源加载前解析域名）、preload(提前加载，一般是首页需要)
   6. prelink 域名
   7. 使用雪碧图
   8. 优化请求，批量化、合并请求
4. 文档布局、绘制的优化
   1. 减少文档的布局、尽量减少不必要的渲染（memo、纯函数）
   2. 减少css的复杂查询
   3. 尽量使用GPU相关的css属性

工程化的性能优化：

目标：提升开发效率（冷启动、热更新、多人协作）

冷启动：

