# 网络

### 页面输入一个url发生了什么

   - 首先浏览器对url进行DNS解析，得到ip、协议、端口号、资源路径。
   - 浏览器通过解析得到的资源定位符进行连接建立
      - 通过tcp三次握手建立连接
         - 客户端发送建立连接的请求
         - 服务端响应
         - 客户端发送建立成功
      - 发送数据
      - 获得数据
      - 四次挥手关闭连接
   - 浏览器获得资源，进行html解析
      - 生成dom树
      - 生成css树
      - dom树和css树合并为render树
      - 通过render树进行渲染

### **如果TCP 建立连接中第二步链接中断会发生什么？**

   1. 超时重传
   2. 超时断开

   在这期间可能发生：在tcp超时重传的过程中，服务端被打挂了（服务端性能堪忧）。超时断开：eg：ajax请求网络超时

### tcp和udp的区别

   - tcp是面向连接的传输协议，需要先建立连接才可以通信
   - udp是无连接传输协议，无需建立连接，可以直接通信

### 什么是https，https和http的区别

   - https是基于http上加一层ssl安全控制层的网络协议
      - 通过数字证书拿到
      - https建立连接先通过公钥对共享密钥进行加密，然后通过在http的链接中用共享密钥对需要传输的数据进行加密
      - https中的公钥需要在第三方认证机构注册数字证书、由第三方颁发数字证书后对公钥进行验证、以保证公钥的正确性
   - http不安全

2.0 http
https 与2.0无关

加密对传输数据

非对称加密

### http2.0和http1.x的区别

   - http1.x的头信息是文本信息，数据体是可以指定格式，http2.0的头和数据都是用二进制表示的
   - Http1.x可以复用tcp连接，只能由客户端发起请求；客户端可以同时发起请求，但是服务端只能按顺序相应请求。http2.0服务端可以主动发起请求，并且服务端的响应是可以无序的，由响应中的编码ID确认该响应属于哪个数据流
- http1.x取消数据流的传输只能通过取消tcp的连接来达到目的，http2.0中可以通过发送信号的方式取消数据的传输

### 缓存机制（200和304）

   - 强缓存（200 from memory / from disk）
      - cache-control,相对时间 http1.1
      - Expires(绝对时间) http1.0
   - 协商缓存（304）
      - 请求体将上次的last-modify放入if-modified-since
      - 响应体修改last-modify
      - 304为缓存命中，响应体中无文件内容
      - 200为缓存失效，响应体中有实际数据
   - serviceworker

### 301和302的区别

   - 301永久重定向
   - 302临时重定向

### 如何进行登录认证

   - 用户进行登录操作后，后端对用户信息进行验证，将token设置为cookie的一个key-value放在响应头部返回，否则认证失败

### 如何进行单点登录

### websocket是什么，怎么工作

## 网络安全相关

- 什么是xxs，如何预防xxs
   - 跨站脚本攻击
      - 通过注入恶意代码进行攻击：js注入、sql注入
- CSRF
   - 跨站伪造攻击
- cookie和session的区别
   - cookie是为了保持会话状态而产生的一个key-value的概念，存储于客户端，一般由服务端生成并设置值，通过响应首部返回给客户端，由浏览器自动识别并设置
   - session也是一种保持会话状态的机制，存储于服务端，由用户第一次访问服务端时生产，一般放在cookie中。
- token是什么
   - token是访问令牌，一般由服务端定制生成规则，由该规则验证访问权限。用户访问服务端时带上该令牌即可证明身份，不必每次都用用户名和密码验证身份。

