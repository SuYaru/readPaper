# 常见面试手写组件题

### react相关：

#### 封装一个react hooks用来请求数据，拥有捕获异常的能力

```javascript
cosnt useFetchData = (url,options)=>{
  const [data,setData] = useState();
  const [loading,setLoading] = useState();
  const [error,setError] = useState();
  useEffect(()=>{
      const fetchData=()=>{
        try{
        setLoading(true);
        const k = await fetch(url,options);
        setData(k)
      }catch(e){
        setError(e)
      }finally{
        setLoading(false)
      }
    }
    f();
  },[urls,option])
  return {loading,error,data}
}
export default useFetchData
```

用react实现一个倒计时组件，可以传入一个数字，代表倒计时的秒数

```javascript
const Countdown = ({ seconds }) => {
  const [count, setCount] = useState(seconds);

  useEffect(() => {
    if (count > 0) {
      const timer = setInterval(() => {
        setCount((prevCount) => prevCount - 1);
      }, 1000);

      return () => {
        clearInterval(timer);
      };
    }
  }, [count]);

  return (
    <div>
      {count === 0 ? (
        <span>倒计时结束</span>
      ) : (
        <span>倒计时剩余时间：{count}秒</span>
      )}
    </div>
  );
};

export default Countdown;
```

